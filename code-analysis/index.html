<!DOCTYPE html>
<html lang="null">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Keng42&#39;s blog">
    <title>使用 Android Studio 的 QAPlug 插件对代码进行优化的记录 - Keng42&#39;s blog</title>
    <meta name="author" content="Keng Lee">
    <meta name="description" content="Keng42&#39;s blog">
    <link rel="icon" href="/assets/images/su.png">
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style.min.css" type="text/css">
    <!--STYLES END-->
    
</head>

    <body>
        <div id="blog">
            <header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="http://keng42.github.io">Keng42&#39;s blog</a>
    </h1>
    
        <a class="header-right-picture" href="/#about">
            <img class="header-picture" src="/assets/images/su.png"/>
        </a>
    
    
    <form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
    <input type="text" id="st-search-inpu" maxlength="20" placeholder="搜索" />
    </form>

</header>
            <nav id="sidebar" data-behavior="1">
    
    <div class="sidebar-profile">
        <a href="/#about">
            
            <img class="sidebar-profile-picture" src="/assets/images/su.png"/>
            
        </a>
        <span class="sidebar-profile-name">Keng Lee</span>
    </div>
    
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="/">
            
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="/all-categories">
            
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">Categories</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="/all-tags">
            
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="/all-archives">
            
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">Archives</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link st-search-show-outputs" href="/#search">
            
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">Search</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="/#about">
            
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">About me</span>
                </a>
        </li>
        
    </ul>
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="https://github.com/keng42" target="_blank">
            
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
    </ul>
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="/atom.xml">
            
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">RSS</span>
                </a>
        </li>
        
    </ul>
    
</nav>
            <div id="main" data-behavior="1">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
        <div class="post-header main-content-wrap">
    
        <h1 class="post-title" itemprop="headline">使用 Android Studio 的 QAPlug 插件对代码进行优化的记录</h1>
    
    <div class="post-meta">
    <time  itemprop="datePublished" content="Thu Jul 16 2015 00:54:42 GMT+0800">
        Jul 16, 2015
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/工具/">工具</a>


    
</div>
</div>
    
    <div class="post-content markdown main-content-wrap" itemprop="articleBody">
        <h1 id="Efficiency_效率">Efficiency 效率</h1><h3 id="Hide_Utility_Class_Constructor_Check">Hide Utility Class Constructor Check</h3><blockquote>
<p>Make sure that utility classes (classes that contain only static methods) do not have a public constructor.  </p>
</blockquote>
<p><a href="http://stackoverflow.com/questions/14398747/hide-utility-class-constructor-utility-classes-should-not-have-a-public-or-def" target="_blank" rel="external">改进</a>：给该工具类增加 <code>final</code> 修饰符，同时声明一个私有的无参构造函数。<br>原因：声明一个私有的无参构造函数，是为了该类无法被子类继承，对于工具类来说这是比较合适的。然而如果不加 <code>final</code> 也并没有什么关系，但加上了也并没有什么坏处。</p>
<h3 id="SBSC_USE_STRINGBUFFER_CONCATENATION">SBSC_USE_STRINGBUFFER_CONCATENATION</h3><blockquote>
<p>The method seems to be building a String using concatenation in a loop. In each iteration, the String is converted to a StringBuffer/StringBuilder, appended to, and converted back to a String. This can lead to a cost quadratic in the number of iterations, as the growing string is recopied in each iteration.</p>
</blockquote>
<p>改进：使用 StringBuffer(线程安全，效率低)/StringBuilder(线程不安全，效率高)<br>原因：每次迭代都会新建一个 String ，无疑会增加成本  </p>
<h3 id="SIC_INNER_SHOULD_BE_STATIC">SIC_INNER_SHOULD_BE_STATIC</h3><blockquote>
<p>This class is an inner class, but does not use its embedded reference to the object which created it.  This reference makes the instances of the class larger, and may keep the reference to the creator object alive longer than necessary.  If possible, the class should be made static.</p>
</blockquote>
<p>改进：若非必要，使用静态内部类</p>
<h1 id="Maintainability_可维护性">Maintainability 可维护性</h1><h3 id="Anon_Inner_Length_Check">Anon Inner Length Check</h3><blockquote>
<p>Checks for long anonymous inner classes.</p>
</blockquote>
<p>改进：匿名内部类不超过 20 行。</p>
<h3 id="Avoid_Duplicate_Literals">Avoid Duplicate Literals</h3><blockquote>
<p>Code containing duplicate String literals can usually be improved by declaring the String as a constant field.</p>
</blockquote>
<p>改进：多次使用的字符串，使用常量来替代<br>原因：要修改时只需要修改一次，不会漏掉</p>
<h3 id="Collapsible_If_Statements">Collapsible If Statements</h3><blockquote>
<p>Sometimes two ‘if’ statements can be consolidated by separating their conditions with a boolean short-circuit operator.</p>
</blockquote>
<p>改进：嵌套的 if 语句可考虑是否可合并</p>
<h3 id="Unused_Formal_Parameter">Unused Formal Parameter</h3><blockquote>
<p>Avoid passing parameters to methods or constructors and then not using those parameters.</p>
</blockquote>
<p>改进：避免传递无用的参数</p>
<h3 id="Visibility_Modifier_Check">Visibility Modifier Check</h3><blockquote>
<p>Checks visibility of class members. Only static final members may be public; other class members must be private unless property protectedAllowed or packageAllowed is set.</p>
</blockquote>
<p>改进：只有静态常量可用 public 修饰，其余的一般都用 private 修饰</p>
<h1 id="Reliability_可靠性">Reliability 可靠性</h1><h3 id="FL_MATH_USING_FLOAT_PRECISION">FL_MATH_USING_FLOAT_PRECISION</h3><blockquote>
<p>The method performs math operations using floating point precision. Floating point precision is very imprecise. For example, 16777216.0f + 1.0f = 16777216.0f. Consider using double math instead.</p>
</blockquote>
<p>改进：避免使用 float，使用 double</p>
<h3 id="Design_For_Extension_Check">Design For Extension Check</h3><blockquote>
<p>Checks that classes are designed for inheritance.</p>
</blockquote>
<p><a href="http://www.cnblogs.com/dolphin0520/p/3736238.html" target="_blank" rel="external">改进</a>：只有在明确了解该类不会被继承或处于安全考虑时才使用 final 修饰符。只有明确该方法禁止在子类中被重写时才使用 final 修饰符，否则尽量不要用。因为在新版本的 Java 中这种情况已经不需要考虑效率问题了。</p>
<h3 id="Magic_Number_Check">Magic Number Check</h3><blockquote>
<p>Checks for magic numbers.</p>
</blockquote>
<p>改进：避免直接使用数字</p>
<h1 id="Usability_可用性">Usability 可用性</h1><h3 id="Avoid_Print_Stack_Trace">Avoid Print Stack Trace</h3><blockquote>
<p>Avoid printStackTrace(); use a logger call instead.</p>
</blockquote>
<p><a href="http://stackoverflow.com/questions/10477607/avoid-printstacktrace-use-a-logger-call-instead" target="_blank" rel="external">改进</a>：使用 <code>Log.e(MyApp.TAG, &quot;&quot;, e);</code></p>

        
            
        
    </div>
    <div class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/Android-Studio/">Android Studio</a> <a class="tag tag--primary tag--small t-link" href="/tags/Code-Style/">Code Style</a> <a class="tag tag--primary tag--small t-link" href="/tags/Java/">Java</a> <a class="tag tag--primary tag--small t-link" href="/tags/QAPlug/">QAPlug</a> <a class="tag tag--primary tag--small t-link" href="/tags/优化/">优化</a>

            </div>
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/atom-0/" data-tooltip="Atom 使用记录">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://keng42.github.io/code-analysis/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://keng42.github.io/code-analysis/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://keng42.github.io/code-analysis/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
    </ul>
</div>


        
            <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
	<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','tBkhvQXgNBHdUUAfxD_Y','2.0.0');
</script>

    <span class="copyrights">
        Copyrights &copy; 2015 Keng Lee. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="1">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/atom-0/" data-tooltip="Atom 使用记录">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://keng42.github.io/code-analysis/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://keng42.github.io/code-analysis/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://keng42.github.io/code-analysis/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
    </ul>
</div>


                </div>
            
        </div>
        <div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/su.png"/>
        
            <h4 id="about-card-name">Keng Lee</h4>
        
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                广州
            </h5>
        
    </div>
</div>
        <div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/script.min.js" type="text/javascript"></script>
<!--SCRIPTS END-->

    <script type="text/javascript">
        var disqus_shortname = 'keng42';
        (function() {
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>



</html>
